<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
      lang="ru">

<head>
    <title>Login page</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" th:href="@{css/main.css}"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
          integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
    <script
            src="https://code.jquery.com/jquery-3.4.1.js"
            integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
</head>
<body class="bg-light">
<article class="card-body mx-auto" style="max-width: 350px">
    <form th:action="@{/}" method="post">

        <div th:if="${param.error}">
            <div class="alert alert-danger small text-center">
                Invalid username and password.
            </div>
        </div>
        <div th:if="${param.logout}">
            <div class="alert alert-info text-center">
                You have been logged out.
            </div>
        </div>
        <div th:if="${param.success}">
            <div class="alert alert-success small text-center">
                You have been successfully sign up<br>
                Now you can sign in!
            </div>
        </div>
        <h4 class="text-center">Sign in</h4>
        <div class="text-center social-btn">
            <a href="/oauth2/authorization/github" class="btn btn-secondary btn-block"><i class="fab fa-github"></i> Sign in with <b>Github</b></a>
            <a href="/oauth2/authorization/google" class="btn btn-danger btn-block"><i class="fab fa-google"></i> Sign in with <b>Google</b></a>
        </div>
        <div class="or-separator"><i>or</i></div>
        <div class="form-group input-group">
            <div class="input-group-prepend">
                <span class="input-group-text"> <i class="fas fa-at"></i> </span>
            </div>
            <input name="username" class="form-control" placeholder="E-mail" type="email" required
                   autocomplete="username">
        </div>
        <div class="form-group input-group">
            <div class="input-group-prepend">
                <span class="input-group-text"> <i class="fas fa-key"></i> </span>
            </div>
            <input name="password" class="form-control" placeholder="Password" type="password" required
                   autocomplete="current-password">
        </div>
        <div class="pt-2">
            <input type="submit" class="btn btn-lg btn-primary btn-block" value="Sign In"/>
        </div>
        <div class="mt-3">
            <div class="d-flex justify-content-center links">
                Don't have an account? <a th:href="@{/registration}" class="ml-2">Sign Up</a>
            </div>
        </div>
        <input type="hidden" id="token" th:value="${token}">
        <input type="hidden" id="email" th:value="${email}">
        <input type="hidden" id="roles" th:value="${roles}">
    </form>
</article>
<script src="/js/login.js"></script>
</body>
</html>